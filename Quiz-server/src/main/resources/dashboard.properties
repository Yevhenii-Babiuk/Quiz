sql.dashboard={\
  getAmountOfPublishedQuizzes:'select distinct tabl.date, tabl2.created, count(date(q.published_date)) over(partition by tabl.date) as published from (select date(published_date) as date from quiz union select date(created_date) as date from quiz) as tabl left join quiz q on tabl.date=date(q.published_date) inner join (select distinct tabl.date, count(date(q1.created_date)) over(partition by tabl.date) as created from (select date(published_date) as date from quiz union select date(created_date) as date from quiz) as tabl left join quiz q1 on tabl.date=date(q1.created_date)) as tabl2 on tabl2.date=tabl.date;',\
  getStatisticOfQuizzesPlayed:'select distinct (q.name), count(*) over(partition by q.id) from take_quiz tq inner join quiz q on tq.quiz_id = q.id;',\
  getFriendsPreferences:'select distinct c.name, count(*) over (partition by c.id) from users left join friendlist f on users.id = f.friend_id left join take_quiz tq on users.id = tq.user_id left join quiz q on tq.quiz_id = q.id left join category c on q.category_id = c.id where f.user_id=?;',\
  getComparedScores:'select * from (select q.id, q.name, tq.score, users.id userId, max(tq.score) over (partition by q.id) record from users inner join take_quiz tq on users.id = tq.user_id inner join quiz q on tq.quiz_id = q.id where tq.is_completed) as tabl where tabl.userId=?;',\
  getCompletedQuizzesInEachCategoryByLogin:'select distinct (category_id), c.name, count(*) over (partition by category_id) as count from users inner join take_quiz tq on users.id = tq.user_id inner join quiz q on tq.quiz_id = q.id inner join category c on q.category_id = c.id where users.login=? and tq.is_completed;',\
  getPercentOfCorrectAnswersById:'select q.name,tq.correct_answers_persentage from users inner join take_quiz tq on users.id = tq.user_id inner join quiz q on tq.quiz_id = q.id where users.id=? and tq.is_completed;',\
  getMaxScoreById:'select q.name, take_date, score from take_quiz inner join quiz q on take_quiz.quiz_id = q.id where take_quiz.score=(select max(tq.score) as max_score from users inner join take_quiz tq on users.id = tq.user_id inner join quiz q on tq.quiz_id = q.id where users.id=? and tq.is_completed);',\
  getTopUsers:'select * from users where total_score is not null order by total_score desc limit ?;',\
  getBestUserByQuizId:'select * from users inner join take_quiz tq on users.id = tq.user_id where score=(select max(score) from users inner join take_quiz tq on users.id = tq.user_id inner join quiz q on tq.quiz_id = q.id where q.id=? and tq.is_completed);',\
  getStatisticInTheCategoryById:'select category_id, c.name, tq.take_date,  count(*) over (partition by category_id order by tq.take_date) as count from users inner join take_quiz tq on users.id = tq.user_id inner join quiz q on tq.quiz_id = q.id inner join category c on q.category_id = c.id where users.id=? and tq.is_completed;'\
  }
